% Macros for COMP 321.

% User-level symbols:
% \evalto:  big-step evalaution.
% \proves:  provability.

% User-level macros:

% Derivations (bussproofs):
% \ndAXC[rule]{judgment}:  Axiom node optionally labeled by 'rule.'
% \ndUIC[rule]{judgment}:  Unary inference optionally labeled by 'rule.'
% \ndBIC[rule]{judgment}:  Binary inference optionally labeled by 'rule.'
% \ndTIC[rule]{judgment}:  Ternary inference optionally labeled by 'rule.'

% Typing and evaluation:
% \typing[env]{exp}{sigma}:  'exp' has type 'sigma' (under 'env').
% \eval[env]{exp}{val}:  'exp' evaluates to 'val' (under 'env').

% Symbols.
\let\evalto\downarrow
\def\oftype{\mathbin{:}}
\let\proves\vdash

% Derivations.  User-level macros:
\usepackage{bussproofs}
\EnableBpAbbreviations
\def\doRule#1{\ifx#1\relax\else\RightLabel{#1}\fi}
\newcommand{\ndAXC}[2][\relax]{\AXC{}\doRule{#1}\UIC{#2}}
\newcommand{\ndUIC}[2][\relax]{\doRule{#1}\UIC{#2}}
\newcommand{\ndBIC}[2][\relax]{\doRule{#1}\BIC{#2}}
\newcommand{\ndTIC}[2][\relax]{\doRule{#1}\TIC{#2}}
\def\evalnohyp#1#2{{#1}\evalto{#2}}
\def\evalhyp#1#2#3{{#1}\proves\evalnohyp{#2}{#3}}
\newcommand{\eval}[3][\relax]{\ifx#1\relax\evalnohyp{#2}{#3}\else\evalhyp{#1}{#2}{#3}\fi}
\def\typenohyp#1#2{{#1}\oftype{#2}}
\def\typehyp#1#2#3{{#1}\proves\typenohyp{#2}{#3}}
\newcommand{\typing}[3][\relax]{\ifx#1\relax\typenohyp{#2}{#3}\else\typehyp{#1}{#2}{#3}\fi}

